<header class="app-header">
  <h1>{{ title }}</h1>
  <!-- Условие для отображения поиска только на страницах списка -->
  @if (isListPage()) {
    <app-search-bar
      [initialQuery]="initialSearchQuery() ?? ''"
      (searchChange)="onSearch($event)"
    ></app-search-bar>
  }
</header>

<main class="app-main">
  <!-- Это место, где роутер будет отображать страницы -->
  <router-outlet></router-outlet>
</main>

<!-- Модальное окно для деталей (управляется через ModalService) -->
@if (selectedMedia(); as mediaItem) {
  <app-movie-details
    [movie]="mediaItem"
    (close)="onCloseDetails()"
  ></app-movie-details>
}
