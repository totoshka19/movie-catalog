<header class="app-header">
  <h1>{{ title() }}</h1>
  <app-search-bar (searchChange)="onSearch($event)"></app-search-bar>
</header>

<main class="app-main">
  @if (isLoading()) {
    <app-skeleton-list></app-skeleton-list>
  } @else if (error()) {
    <div class="app-state-indicator app-state-indicator--error">{{ error() }}</div>
  } @else {
    <app-movie-list
      [movies]="filteredMovies()"
      (movieClick)="onMovieSelect($event)"
    ></app-movie-list>
  }
</main>

<!-- Модальное окно для деталей фильма -->
@if (selectedMovie(); as movie) {
  <app-movie-details
    [movie]="movie"
    (close)="onCloseDetails()"
  ></app-movie-details>
}
