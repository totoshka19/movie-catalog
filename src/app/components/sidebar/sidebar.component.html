<!-- Сайдбар: Фиксирован слева на десктопе -->
<aside class="sidebar">
  <div class="sidebar__section">
    <app-search-bar
      [initialQuery]="initialQuery"
      [placeholder]="placeholder"
      (searchChange)="onSearch($event)"
    ></app-search-bar>
  </div>

  <div class="sidebar__section">
    <div class="sidebar__header">
      <h3>
        Жанры
        <!-- Отображаем счетчик, если выбран хотя бы один жанр -->
        @if (selectedGenres.length) {
          <span class="sidebar__genre-count">{{ selectedGenres.length }}</span>
        }
      </h3>
      @if (selectedGenres.length) {
        <button class="sidebar__reset-btn" (click)="resetGenres()">Сбросить</button>
      }
    </div>

    <div class="genres-list">
      @for (genre of genres; track genre.id) {
        <label class="checkbox-label">
          <input
            type="checkbox"
            [checked]="isSelected(genre.id)"
            (change)="onGenreToggle($event, genre.id)"
          >
          <span class="checkbox-custom"></span>
          <span class="checkbox-text">{{ genre.name }}</span>
        </label>
      }
    </div>
  </div>
</aside>
